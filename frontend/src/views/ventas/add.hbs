<link rel="stylesheet" href="/styles/ventas.css">

<div class="container mt-4">
    <div class="card">
        <div class="card p-4" style="background-color: #ffffff8f; border-light;">
            <h3 class="text-center" style="color: #000000;">Ventas</h3>
            <div class="row g-3">
                <div class="col-md-4">
                    <input type="text" id="codigoVenta" class="form-control" placeholder="C√≥digo de Venta" disabled>
                </div>
                <div class="col-md-4">
                    <select id="sector" class="form-select">
                        <option value="Herramientas manuales">Herramientas manuales</option>
                        <option value="Herramientas el√©ctricas">Herramientas el√©ctricas</option>
                        <option value="Materiales de construcci√≥n">Materiales de construcci√≥n</option>
                        <option value="Pinturas o accesorios">Pinturas o accesorios</option>
                        <option value="Tuber√≠as y plomer√≠a">Tuber√≠as y plomer√≠a</option>
                        <option value="Electricidad e iluminaci√≥n">Electricidad e iluminaci√≥n</option>
                        <option value="Seguridad industrial">Seguridad industrial</option>
                        <option value="Productos de ferreter√≠a general">Productos de ferreter√≠a general</option>
                    </select>
                </div>
                <div class="col-md-4">
                    <input type="text" id="codigoEmpleado" class="form-control" placeholder="C√≥digo de Empleado"
                        value="EMP123" disabled>
                </div>
                <div class="col-md-4">
                    <select id="nombreProducto" class="form-select">
                        <option value="" disabled selected>Seleccione Producto</option>
                        <option>Producto A</option>
                        <option>Producto B</option>
                        <option>Producto C</option>
                    </select>
                </div>
                <div class="col-md-2">
                    <input type="number" id="cantidad" class="form-control" placeholder="Cantidad">
                </div>
                <div class="col-md-2">
                    <input type="text" id="precio" class="form-control" placeholder="Precio">
                </div>
                <div class="col-md-4">
                    <select id="metodoPago" class="form-select">
                        <option value="" disabled selected>Seleccione M√©todo de Pago</option>
                        <option>Efectivo</option>
                        <option>Tarjeta</option>
                        <option>Transferencia</option>
                    </select>
                </div>
            </div>

            <div class="text-center mt-3">
                <button id="agregarProducto" class="btn btn-custom btn-custom-primary">‚ûï Agregar M√°s</button>
            </div>

            <div class="mt-4">
                <h5 class="text-center"
                    style="background-color: #80c7e0; color: #fff; padding: 8px; border-radius: 5px;">Lista de Productos
                </h5>
                <table class="table table-light table-striped text-center">
                    <thead class="table-secondary">
                        <tr>
                            <th>Producto</th>
                            <th>Cantidad</th>
                            <th>Precio</th>
                            <th>M√©todo de Pago</th>
                            <th>Acciones</th>
                        </tr>
                    </thead>
                    <tbody id="tablaProductos">
                        <!-- Aqu√≠ se agregar√°n din√°micamente los productos -->
                    </tbody>
                </table>
            </div>

            <div class="d-flex justify-content-between mt-3">
                <button class="btn btn-custom btn-custom-success">üíæ Guardar Venta</button>
            </div>
        </div>
    </div>
</div>

<script>
    document.getElementById("agregarProducto").addEventListener("click", function () {
        let nombre = document.getElementById("nombreProducto").value;
        let cantidad = document.getElementById("cantidad").value;
        let precio = document.getElementById("precio").value;
        let metodoPago = document.getElementById("metodoPago").value;

        if (nombre === "Seleccione Producto" || cantidad === "" || precio === "" || metodoPago === "Seleccione M√©todo de Pago") {
            alert("Por favor, complete todos los campos antes de agregar.");
            return;
        }

        let tabla = document.getElementById("tablaProductos");
        let fila = document.createElement("tr");

        fila.innerHTML = `
        <td>${nombre}</td>
        <td>${cantidad}</td>
        <td>${precio}</td>
        <td>${metodoPago}</td>
        <td><button class="btn btn-danger btn-sm eliminar">‚ùå Eliminar</button></td>
    `;

        tabla.appendChild(fila);

        document.getElementById("nombreProducto").value = "Seleccione Producto";
        document.getElementById("cantidad").value = "";
        document.getElementById("precio").value = "";
        document.getElementById("metodoPago").value = "Seleccione M√©todo de Pago";

        fila.querySelector(".eliminar").addEventListener("click", function () {
            fila.remove();
        });
    });
</script>